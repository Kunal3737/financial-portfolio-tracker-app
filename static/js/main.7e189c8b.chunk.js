(this["webpackJsonpfinancial-portfolio-tracker-app"]=this["webpackJsonpfinancial-portfolio-tracker-app"]||[]).push([[0],{27:function(t,e,n){t.exports=n(66)},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},36:function(t,e,n){},54:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(11),s=n.n(c),r=(n(32),n(33),n(3)),l=n(4),i=n(6),u=n(5),m=n(7),h=(n(34),n(8)),d=n.n(h),f=n(9),p=n(2),g=(n(36),n(14).default),k=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(i.a)(this,Object(u.a)(e).call(this,t))).stopTrackingButtonClicked=function(){var t=Object(f.a)(d.a.mark((function t(e,a,o){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ID:",e),g.post("https://financial-portfolio-trac-40940.firebaseio.com/mystocks.json",{symbol:a,name:o}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)})),n.setState({isStopTracking:!0}),n.setState(n.props.fromChild),t.next=6,g.delete("https://financial-portfolio-trac-40940.firebaseio.com/stocksInTable/".concat(e,".json")).then((function(t){console.log(t.data),n.setState({buttonClicked:!0})})).catch((function(t){console.log(t)}));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),console.log(t),n.state={resp:[],isStopTracking:!1,buttonClicked:n.props.isButtonClicked},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;g.get("https://financial-portfolio-trac-40940.firebaseio.com/stocksInTable.json").then((function(e){var n=[];for(var a in e.data)n.push(Object(p.a)({},e.data[a],{id:a}));t.setState({resp:n}),console.log("Response: ",t.state.resp)})).catch((function(t){console.log(t)}))}},{key:"componentDidUpdate",value:function(){var t=this;(this.props.isButtonClicked||this.state.isStopTracking)&&g.get("https://financial-portfolio-trac-40940.firebaseio.com/stocksInTable.json").then((function(e){var n=[];for(var a in e.data)n.push(Object(p.a)({},e.data[a],{id:a}));t.setState({resp:n}),console.log("Response: ",t.state.resp.length),t.setState({isStopTracking:!1})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this;return console.log(this.props.items),o.a.createElement("tbody",null,this.state.resp.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.symbol),o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.noOfShares),o.a.createElement("td",null,e.buyPrice),o.a.createElement("td",null,e.currentPrice),o.a.createElement("td",null,e.profitLoss),o.a.createElement("td",null,o.a.createElement("button",{className:"StopTrackingBtn",onClick:function(n,a,o){t.stopTrackingButtonClicked(e.id,e.symbol,e.name)}},"x")))})))}}]),e}(a.Component),b=(n(54),n(12)),y=n.n(b),S=n(14).default,E=function(t){function e(t){var n;return Object(r.a)(this,e),y.a.setAppElement("#root"),(n=Object(i.a)(this,Object(u.a)(e).call(this,t))).addStockBtn=function(t,e,a){n.setState({IdOfStock:a}),S.get("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(t,"&apikey=HYM09DQLAGWQMN62")).then((function(a){var o;o=a.data["Time Series (Daily)"],console.log(o[Object.keys(o)[0]]);var c=new Date;console.log(c);var s=c.getDate();console.log(s);var r=c.getMonth()+1;s<10&&(console.log(s),s="0"+s),r<10&&(r="0"+r),console.log(c.getFullYear()),console.log(r),console.log(s);var l=c.getFullYear()+"-"+r+"-"+s;console.log(l);var i=c.getDay();console.log(i);var u=o[Object.keys(o)[0]];console.log(u),n.setState({currentStockName:e,currentStockSymbol:t,todaysDate:l,currentPrice:u["1. open"],isModal:!0})}))},n.fromChild=function(){n.setState({isButtonClicked:!0})},n.state={resp:[],currentStockName:"",currentStockSymbol:"",todaysDate:"",no_Of_Shares:"",buyingPrice:"",errorMessage:"",currentPrice:"",profitLoss:"",isButtonClicked:!1,IdOfStock:"",countChild:!0,responseFromStocksInTable:[],isModal:!1},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;S.get("https://financial-portfolio-trac-40940.firebaseio.com/mystocks.json").then((function(e){var n=[];for(var a in e.data)n.push(Object(p.a)({},e.data[a],{id:a}));t.setState({resp:n}),console.log(t.state.resp)})).catch((function(t){console.log(t)}))}},{key:"componentDidUpdate",value:function(){var t=this;(this.state.isButtonClicked||this.state.countChild)&&(this.setState({countChild:!1}),S.get("https://financial-portfolio-trac-40940.firebaseio.com/mystocks.json").then((function(e){var n=[];for(var a in e.data)n.push(Object(p.a)({},e.data[a],{id:a}));t.setState({resp:n}),console.log(t.state.resp)})).catch((function(t){console.log(t)})),this.setState({isButtonClicked:!1}),S.get("https://financial-portfolio-trac-40940.firebaseio.com/stocksInTable.json").then((function(e){var n=[];for(var a in e.data)n.push(Object(p.a)({},e.data[a],{id:a}));t.setState({responseFromStocksInTable:n}),console.log("Response: ",t.state.responseFromStocksInTable.length)})).catch((function(t){console.log(t)})))}},{key:"addBtnClicked",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e,n,a,o,c=this;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.querySelector("#noShares").value,console.log(e),n=document.querySelector("#buyPrice").value,console.log(n),console.log(this.state.currentPrice),a=(this.state.currentPrice-n)*e,console.log(a),!(e>0&&n>0)){t.next=17;break}return t.next=10,this.setState({no_Of_Shares:e,buyingPrice:n,profitLoss:a,errorMessage:""});case 10:e=document.querySelector("#noShares").value="",n=document.querySelector("#buyPrice").value="",S.delete("https://financial-portfolio-trac-40940.firebaseio.com/mystocks/".concat(this.state.IdOfStock,".json"),{params:{name:this.state.currentStockName,symbol:this.state.currentStockSymbol}}).then((function(t){console.log(t.data),c.setState({isButtonClicked:!0})})).catch((function(t){console.log(t)})),o={symbol:this.state.currentStockSymbol,name:this.state.currentStockName,noOfShares:this.state.no_Of_Shares,buyPrice:this.state.buyingPrice,currentPrice:this.state.currentPrice,profitLoss:this.state.profitLoss},S.post("https://financial-portfolio-trac-40940.firebaseio.com/stocksInTable.json",o).then((function(t){console.log("Response: ",t)})).catch((function(t){console.log(t)})),t.next=18;break;case 17:this.setState({errorMessage:"Please fill all the inputs"});case 18:this.setState({isModal:!1});case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"AddStocksTitle"},0===this.state.responseFromStocksInTable.length?o.a.createElement("h1",{className:"noStock"},"No stocks have been selected"):o.a.createElement("table",{className:"MyStocksTable"},o.a.createElement(k,{isButtonClicked:this.state.isButtonClicked,fromChild:this.fromChild})),o.a.createElement(y.a,{isOpen:this.state.isModal,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"800px"}}},o.a.createElement("div",{className:"mainModal"},o.a.createElement("strong",{id:"closeSymbol",style:{float:"right"},onClick:function(){t.setState({isModal:!1})}},"+"),o.a.createElement("br",null),o.a.createElement("h1",{style:{textAlign:"center"}},"Add ",this.state.currentStockName," to My Stocks"),o.a.createElement("h4",{style:{textAlign:"center",color:"red"}},this.state.errorMessage),o.a.createElement("strong",{style:{textAlign:"left",marginBottom:"1%"}},"Company Name:"," "),o.a.createElement("span",{style:{float:"right"}},this.state.currentStockName),o.a.createElement("br",null),o.a.createElement("strong",{style:{textAlign:"left",marginBottom:"1%"}},"No. of Shares:"," "),o.a.createElement("input",{style:{float:"right"},type:"number",min:"1",placeholder:"No. of Shares",id:"noShares"}),o.a.createElement("br",null),o.a.createElement("strong",{style:{textAlign:"left",marginBottom:"1%"}},"Buy Price:"," "),o.a.createElement("input",{style:{float:"right"},type:"number",min:"1",placeholder:"Buying Price",id:"buyPrice"}),o.a.createElement("br",null),o.a.createElement("strong",{style:{textAlign:"left",marginBottom:"1%"}},"Buy Date:"," "),o.a.createElement("input",{id:"buyDate",style:{float:"right"},type:"date",value:this.state.todaysDate,readOnly:!0}),o.a.createElement("br",null),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("button",{id:"addBtn",type:"submit",className:"AddButton",style:{width:"10%"},onClick:this.addBtnClicked.bind(this)},"Add")))),o.a.createElement("hr",null),o.a.createElement("div",null,o.a.createElement("h3",null,"Add Stocks to my Stocks"),o.a.createElement("ul",null,this.state.resp.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("button",{style:{width:"100px"},className:"StockButton",onClick:function(n,a,o){return t.addStockBtn(e.symbol,e.name,e.id)}},e.symbol)," ",e.name)})))))}}]),e}(o.a.Component),v=function(t){function e(){return Object(r.a)(this,e),Object(i.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"MyStocks"},o.a.createElement("h3",null,"My Stocks"),o.a.createElement("table",{className:"MyStocksTable"},o.a.createElement("thead",null,o.a.createElement("tr",{className:"stockHeader"},o.a.createElement("th",null,"Stock symbol"),o.a.createElement("th",null,"Stock name"),o.a.createElement("th",null,"No.of shares"),o.a.createElement("th",null,"Buy price"),o.a.createElement("th",null,"Current price"),o.a.createElement("th",null,"Profit/Loss"),o.a.createElement("th",null,"Stop Tracking")))),o.a.createElement(E,null))}}]),e}(a.Component);var O=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"header"},o.a.createElement("strong",null,"FInancial Portfolio Tracker")),o.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.7e189c8b.chunk.js.map